{"ast":null,"code":"var _jsxFileName = \"/home/dan/Documents/projectv2/front/src/components/UserList.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useChatChannel, useChatContext } from 'stream-chat-react';\nimport { InviteIcon } from '../Stuff/InviteIcon'; // Column flex box\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar channelStyle = {\n  display: \"flex\",\n  flexDirection: \"column\",\n  height: \"100%\"\n}; // style for the heade, justify content space between sets paragraphs oppostie\n\nvar headerStyle = {\n  display: \"flex\",\n  alignItems: \"center\",\n  margin: \"0px 20px\",\n  justifyContent: \"space-between\"\n}; //Justify space here makes sure the name shows up on the left, and the invite icon shows up on the right\n\nvar ListItemUserWrapper = {\n  display: \"flex\",\n  alignItems: \"center\",\n  margin: \"0px 20px\",\n  justifyContent: \"space-between\"\n};\nvar ListItemUserWrapperName = {\n  display: \"flex\",\n  alignItems: \"center\",\n  flex: \"2\",\n  textAlign: \"left\"\n};\nvar emptyCheck = {\n  height: \"28px\",\n  width: \"28px\",\n  background: \"#f7f6f8\",\n  border: \"1px solid #dedddf\",\n  borderRadius: \"14px\",\n  boxSizing: \"border-box\",\n  marginLeft: \"4px\",\n  cursor: 'pointer'\n};\n\nfunction MasterList({\n  children\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: channelStyle,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: headerStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Members\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Group Invite\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n\n_c = MasterList;\n\nfunction ListItemUser({\n  user,\n  setCheckedUsers\n}) {\n  _s();\n\n  const [checked, setChecked] = useState(false);\n\n  function detectCheck() {\n    //If we detect a check, we filter out this user from the list of checked users in the createChannel components state\n    if (checked == true) {\n      setCheckedUsers(prevUsers => prevUsers.filter(prevUser => prevUser !== user.id));\n    } //else, we keep the previous list and add this user id to it\n    else {\n        setCheckedUsers(prevUsers => [...prevUsers, user.id]);\n      }\n\n    setChecked(!checked);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: ListItemUserWrapper,\n    onClick: detectCheck,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: ListItemUserWrapperName,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: user.name || user.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), checked ? /*#__PURE__*/_jsxDEV(InviteIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 24\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: emptyCheck\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 41\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ListItemUser, \"OiiR1BYWvMsLHMiD2uYkeM3TCO0=\");\n\n_c2 = ListItemUser;\n\nfunction UserList({\n  setCheckedUsers\n}) {\n  _s2();\n\n  const {\n    client\n  } = useChatContext();\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [empty, setEmpty] = useState(false);\n  const [err, setErr] = useState(false);\n  useEffect(() => {\n    const getUsers = async () => {\n      if (loading) return; //If we are already getting the lost, don't keep trying to get it\n      //loading set to true for the try catch block, where we query users from stream chat \n\n      setLoading(true); //Async call to the stream chat client, filter out our own user, set range of users\n\n      try {\n        const response = await client.queryUsers({\n          id: {\n            $ne: client.userID\n          }\n        }, // query users from stream chats current context, exclude the logged in user\n        {\n          id: 1\n        }, {\n          limit: 10\n        }); //If response has entries, set users array to the response or set empty flag as true\n\n        if (response.users.length) {\n          setUsers(response.users);\n        } else {\n          setEmpty(true);\n        }\n      } catch (error) {\n        setErr(true);\n      }\n\n      setLoading(false); // We have finished retreiving the user list into the use states \n    };\n\n    if (client) getUsers();\n  }, []);\n\n  if (err) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(MasterList, {\n    children: loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading Invitation Page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }, this) : users === null || users === void 0 ? void 0 : users.map((user, i) => /*#__PURE__*/_jsxDEV(ListItemUser, {\n      index: i,\n      user: user,\n      setCheckedUsers: setCheckedUsers\n    }, user.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(UserList, \"93sINmLaSwjVKoOAW/uChnlX+To=\", false, function () {\n  return [useChatContext];\n});\n\n_c3 = UserList;\nexport default UserList;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"MasterList\");\n$RefreshReg$(_c2, \"ListItemUser\");\n$RefreshReg$(_c3, \"UserList\");","map":{"version":3,"sources":["/home/dan/Documents/projectv2/front/src/components/UserList.jsx"],"names":["React","useEffect","useState","useChatChannel","useChatContext","InviteIcon","channelStyle","display","flexDirection","height","headerStyle","alignItems","margin","justifyContent","ListItemUserWrapper","ListItemUserWrapperName","flex","textAlign","emptyCheck","width","background","border","borderRadius","boxSizing","marginLeft","cursor","MasterList","children","ListItemUser","user","setCheckedUsers","checked","setChecked","detectCheck","prevUsers","filter","prevUser","id","name","UserList","client","users","setUsers","loading","setLoading","empty","setEmpty","err","setErr","getUsers","response","queryUsers","$ne","userID","limit","length","error","map","i"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport {useChatChannel, useChatContext} from 'stream-chat-react'\nimport {InviteIcon} from '../Stuff/InviteIcon'\n\n// Column flex box\nvar channelStyle = {\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: \"100%\"\n  };\n// style for the heade, justify content space between sets paragraphs oppostie\n  var headerStyle={\n    display: \"flex\",\n    alignItems: \"center\",\n    margin: \"0px 20px\",\n    justifyContent: \"space-between\"\n  };\n\n//Justify space here makes sure the name shows up on the left, and the invite icon shows up on the right\n  var ListItemUserWrapper={\n    display: \"flex\",\n    alignItems: \"center\",\n    margin: \"0px 20px\",\n    justifyContent: \"space-between\"\n  };\n\n  var ListItemUserWrapperName={\n    display: \"flex\",\n    alignItems: \"center\",\n    flex: \"2\",\n    textAlign: \"left\"\n  };\n\n  var emptyCheck = {\n    height: \"28px\",\n    width: \"28px\",\n    background: \"#f7f6f8\",\n    border: \"1px solid #dedddf\",\n    borderRadius: \"14px\",\n    boxSizing: \"border-box\",\n    marginLeft: \"4px\",\n    cursor:'pointer'\n  }\n\n\n\nfunction MasterList({ children }){\n    return(\n        <div style={channelStyle}>\n            <div style={headerStyle}>\n                <p>Members</p>\n                <p>Group Invite</p>\n            </div>\n            {children}\n        </div>\n    )\n}\n\n\nfunction ListItemUser({ user, setCheckedUsers}){\n    const [checked, setChecked] = useState(false)\n    function detectCheck(){\n        //If we detect a check, we filter out this user from the list of checked users in the createChannel components state\n        if(checked == true){\n            setCheckedUsers((prevUsers) => prevUsers.filter((prevUser) => prevUser !== user.id))\n        }\n        //else, we keep the previous list and add this user id to it\n        else{\n            setCheckedUsers((prevUsers) => [...prevUsers, user.id])\n        }\n\n\n        setChecked(!checked)\n    }\n    return(\n        <div style={ListItemUserWrapper} onClick={detectCheck}>\n            <div style={ListItemUserWrapperName}>\n                <p>\n                    {user.name || user.id}\n                </p>\n            </div>\n            {checked ? <InviteIcon /> : <div style={emptyCheck}></div>}\n        </div>\n    )\n}\n\n\nfunction UserList({setCheckedUsers}){ \n    const {client} = useChatContext()\n    const [users, setUsers] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [empty, setEmpty] = useState(false);\n    const [err, setErr] = useState(false)\n\n    useEffect(()=> {\n        const getUsers = async () => {\n            if(loading) return //If we are already getting the lost, don't keep trying to get it\n            //loading set to true for the try catch block, where we query users from stream chat \n            setLoading(true) \n            \n            //Async call to the stream chat client, filter out our own user, set range of users\n            try {\n                const response = await client.queryUsers(\n                    {id: {$ne :client.userID}}, // query users from stream chats current context, exclude the logged in user\n                    {id : 1},\n                    {limit: 10}\n                );\n                    //If response has entries, set users array to the response or set empty flag as true\n                if(response.users.length) {\n                    setUsers(response.users)\n                } else {\n                    setEmpty(true)\n                }\n            } catch (error) {\n                setErr(true)\n\n            }\n            setLoading(false) // We have finished retreiving the user list into the use states \n        }\n\n        if(client) getUsers()\n\n    },[])\n    if(err){\n        return <div></div>\n    }\n\n    return (\n    <MasterList>\n        {loading ? \n        <p>\n            Loading Invitation Page\n        </p> : \n            (users?.map((user, i)=>(\n                <ListItemUser index={i} key={user.id} user={user} setCheckedUsers={setCheckedUsers}/>\n            ))\n            )}\n    </MasterList>\n\n    )\n}\n\nexport default UserList\n"]},"metadata":{},"sourceType":"module"}